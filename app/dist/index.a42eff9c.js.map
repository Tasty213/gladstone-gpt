{"mappings":"ACAA,MAAM,EAAU,SAAS,cAAA,CAAe,YAClC,EAAe,SAAS,cAAA,CAAe,kBACvC,EAAa,SAAS,cAAA,CAAe,eAsC3C,SAAS,EAAY,CAAO,EAC1B,IAAM,EAAc,EAAa,KAAjC,AACA,CAAA,EAAW,QAAA,CAAW,CAAA,EACtB,EAAW,SAAA,CAAY,WACvB,AAxCF,SAAwB,CAAO,EAC7B,IAAM,EAAa,SAAS,aAAA,CAAc,MAC1C,CAAA,EAAW,SAAA,CAAY,eACvB,EAAW,SAAA,CAAY,EACvB,EAAQ,WAAA,CAAY,EACtB,EAmCiB,GAGf,MAAM,gBAAiB,CACrB,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAA,CAAU,CAAE,SAAU,CAAY,EAC/C,GACG,IAAA,CAAK,AAAC,GAAa,EAAS,IAAA,IAC5B,IAAA,CAAK,AAAC,KACL,AA7CN,SAAsB,CAAM,CAAE,CAAO,EACnC,IAAM,EAAa,SAAS,aAAA,CAAc,MAC1C,CAAA,EAAW,SAAA,CAAY,kBAEvB,IAAI,EAAgB,SAAS,aAAA,CAAc,IAC3C,CAAA,EAAc,SAAA,CAAY,EAC1B,EAAW,WAAA,CAAY,GAEvB,IAAI,EAAgB,CAAC,EACrB,EAAQ,OAAA,CACN,AAAC,GACC,CAAa,CAAC,CAAC,EAAE,EAAQ,IAAA,CAAK,MAAM,EAAE,EAAQ,WAAA,CAAY,CAAC,CAAC,CAAG,GAEnE,OAAO,OAAA,CAAQ,GAAe,OAAA,CAAQ,AAAC,IACrC,IAAI,EAAgB,SAAS,aAAA,CAAc,IAC3C,CAAA,EAAc,IAAA,CAAO,CAAM,CAAC,EAAE,CAAC,IAA/B,CACI,CAAM,CAAC,EAAE,CAAC,WAAA,CACZ,EAAc,SAAA,CAAY,CAAC,EAAE,CAAM,CAAC,EAAE,CAAC,IAAA,CAAK,QAAQ,EAAE,CAAM,CAAC,EAAE,CAAC,WAAA,CAAY;AAAE,CAAC,CAE/E,EAAc,SAAA,CAAY,CAAC,EAAE,CAAM,CAAC,EAAE,CAAC,IAAA,CAAK;AAAE,CAAC,CAEjD,EAAW,WAAA,CAAY,EACzB,GAEA,EAAQ,WAAA,CAAY,GACpB,EAAW,QAAA,CAAW,CAAA,EACtB,EAAW,SAAA,CAAY,SACzB,EAkBmB,EAAK,MAAA,CAAQ,EAAK,OAA/B,CACF,GACC,KAAA,CAAM,AAAC,GAAU,QAAQ,KAAA,CAAM,SAAU,IAG5C,EAAa,KAAA,CAAQ,EACvB,CAEA,EAAW,gBAAA,CAAiB,QAAS,GACrC,EAAa,gBAAA,CAAiB,WAAY,SAAU,CAAK,EACjC,KAAlB,EAAM,OAAA,EACR,GAEJ","sources":["<anon>","frontend/app.js"],"sourcesContent":["const chatLog = document.getElementById(\"chat-log\");\nconst userInputBox = document.getElementById(\"user-input-box\");\nconst sendButton = document.getElementById(\"send-button\");\nfunction appendQuestion(message) {\n    const messageDiv = document.createElement(\"div\");\n    messageDiv.className = \"message user\";\n    messageDiv.innerText = message;\n    chatLog.appendChild(messageDiv);\n}\nfunction appendAnswer(answer, sources) {\n    const messageDiv = document.createElement(\"div\");\n    messageDiv.className = \"message chatbot\";\n    let answerElement = document.createElement(\"p\");\n    answerElement.innerText = answer;\n    messageDiv.appendChild(answerElement);\n    let uniqueSources = {};\n    sources.forEach((element)=>uniqueSources[`${element.link}-page-${element.page_number}`] = element);\n    Object.entries(uniqueSources).forEach((source)=>{\n        var sourceElement = document.createElement(\"a\");\n        sourceElement.href = source[1].link;\n        if (source[1].page_number) sourceElement.innerText = `${source[1].name} - page ${source[1].page_number}\\n`;\n        else sourceElement.innerText = `${source[1].name}\\n`;\n        messageDiv.appendChild(sourceElement);\n    });\n    chatLog.appendChild(messageDiv);\n    sendButton.disabled = false;\n    sendButton.className = \"enabled\";\n}\nfunction sendMessage(message) {\n    const userMessage = userInputBox.value;\n    sendButton.disabled = true;\n    sendButton.className = \"disabled\";\n    appendQuestion(userMessage);\n    // Send the user message to the server\n    fetch(\"/get_response\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            question: userMessage\n        })\n    }).then((response)=>response.json()).then((data)=>{\n        appendAnswer(data.answer, data.sources);\n    }).catch((error)=>console.error(\"Error:\", error));\n    // Clear the input box after sending\n    userInputBox.value = \"\";\n}\nsendButton.addEventListener(\"click\", sendMessage);\nuserInputBox.addEventListener(\"keypress\", function(event) {\n    if (event.keyCode === 13) sendMessage();\n});\n\n//# sourceMappingURL=index.a42eff9c.js.map\n","const chatLog = document.getElementById(\"chat-log\");\r\nconst userInputBox = document.getElementById(\"user-input-box\");\r\nconst sendButton = document.getElementById(\"send-button\");\r\n\r\nfunction appendQuestion(message) {\r\n  const messageDiv = document.createElement(\"div\");\r\n  messageDiv.className = \"message user\";\r\n  messageDiv.innerText = message;\r\n  chatLog.appendChild(messageDiv);\r\n}\r\n\r\nfunction appendAnswer(answer, sources) {\r\n  const messageDiv = document.createElement(\"div\");\r\n  messageDiv.className = \"message chatbot\";\r\n\r\n  let answerElement = document.createElement(\"p\");\r\n  answerElement.innerText = answer;\r\n  messageDiv.appendChild(answerElement);\r\n\r\n  let uniqueSources = {};\r\n  sources.forEach(\r\n    (element) =>\r\n      uniqueSources[`${element.link}-page-${element.page_number}`] = element \r\n  );\r\n  Object.entries(uniqueSources).forEach((source) => {\r\n    var sourceElement = document.createElement(\"a\");\r\n    sourceElement.href = source[1].link;\r\n    if (source[1].page_number) {\r\n      sourceElement.innerText = `${source[1].name} - page ${source[1].page_number}\\n`;\r\n    } else {\r\n      sourceElement.innerText = `${source[1].name}\\n`;\r\n    }\r\n    messageDiv.appendChild(sourceElement);\r\n  });\r\n\r\n  chatLog.appendChild(messageDiv);\r\n  sendButton.disabled = false;\r\n  sendButton.className = \"enabled\";\r\n}\r\n\r\nfunction sendMessage(message) {\r\n  const userMessage = userInputBox.value;\r\n  sendButton.disabled = true;\r\n  sendButton.className = \"disabled\";\r\n  appendQuestion(userMessage);\r\n\r\n  // Send the user message to the server\r\n  fetch(\"/get_response\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ question: userMessage }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      appendAnswer(data.answer, data.sources);\r\n    })\r\n    .catch((error) => console.error(\"Error:\", error));\r\n\r\n  // Clear the input box after sending\r\n  userInputBox.value = \"\";\r\n}\r\n\r\nsendButton.addEventListener(\"click\", sendMessage);\r\nuserInputBox.addEventListener(\"keypress\", function (event) {\r\n  if (event.keyCode === 13) {\r\n    sendMessage();\r\n  }\r\n});\r\n"],"names":["chatLog","document","getElementById","userInputBox","sendButton","sendMessage","message","userMessage","value","disabled","className","appendQuestion","messageDiv","createElement","innerText","appendChild","fetch","method","headers","body","JSON","stringify","question","then","response","json","data","appendAnswer","answer","sources","answerElement","uniqueSources","forEach","element","link","page_number","Object","entries","source","sourceElement","href","name","catch","error","console","addEventListener","event","keyCode"],"version":3,"file":"index.a42eff9c.js.map"}
{"mappings":"AAAA,MAAM,UAAU,SAAS,eAAe;AACxC,MAAM,eAAe,SAAS,eAAe;AAC7C,MAAM,aAAa,SAAS,eAAe;AAE3C,SAAS,eAAe,OAAO;IAC7B,MAAM,aAAa,SAAS,cAAc;IAC1C,WAAW,YAAY;IACvB,WAAW,YAAY;IACvB,QAAQ,YAAY;AACtB;AAEA,SAAS,aAAa,MAAM,EAAE,OAAO;IACnC,MAAM,aAAa,SAAS,cAAc;IAC1C,WAAW,YAAY;IAEvB,IAAI,gBAAgB,SAAS,cAAc;IAC3C,cAAc,YAAY;IAC1B,WAAW,YAAY;IAEvB,IAAI,gBAAgB,CAAC;IACrB,QAAQ,QACN,CAAC,UACC,aAAa,CAAC,CAAC,EAAE,QAAQ,KAAK,MAAM,EAAE,QAAQ,YAAY,CAAC,CAAC,GAAG;IAEnE,OAAO,QAAQ,eAAe,QAAQ,CAAC;QACrC,IAAI,gBAAgB,SAAS,cAAc;QAC3C,cAAc,OAAO,MAAM,CAAC,EAAE,CAAC;QAC/B,IAAI,MAAM,CAAC,EAAE,CAAC,aACZ,cAAc,YAAY,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aAE/E,cAAc,YAAY,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;QAEjD,WAAW,YAAY;IACzB;IAEA,QAAQ,YAAY;IACpB,WAAW,WAAW;IACtB,WAAW,YAAY;AACzB;AAEA,SAAS,YAAY,OAAO;IAC1B,MAAM,cAAc,aAAa;IACjC,WAAW,WAAW;IACtB,WAAW,YAAY;IACvB,eAAe;IAEf,sCAAsC;IACtC,MAAM,iBAAiB;QACrB,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,UAAU;YAAE,UAAU;QAAY;IAC/C,GACG,KAAK,CAAC,WAAa,SAAS,QAC5B,KAAK,CAAC;QACL,aAAa,KAAK,QAAQ,KAAK;IACjC,GACC,MAAM,CAAC,QAAU,QAAQ,MAAM,UAAU;IAE5C,oCAAoC;IACpC,aAAa,QAAQ;AACvB;AAEA,WAAW,iBAAiB,SAAS;AACrC,aAAa,iBAAiB,YAAY,SAAU,KAAK;IACvD,IAAI,MAAM,YAAY,IACpB;AAEJ","sources":["frontend/app.js"],"sourcesContent":["const chatLog = document.getElementById(\"chat-log\");\r\nconst userInputBox = document.getElementById(\"user-input-box\");\r\nconst sendButton = document.getElementById(\"send-button\");\r\n\r\nfunction appendQuestion(message) {\r\n  const messageDiv = document.createElement(\"div\");\r\n  messageDiv.className = \"message user\";\r\n  messageDiv.innerText = message;\r\n  chatLog.appendChild(messageDiv);\r\n}\r\n\r\nfunction appendAnswer(answer, sources) {\r\n  const messageDiv = document.createElement(\"div\");\r\n  messageDiv.className = \"message chatbot\";\r\n\r\n  let answerElement = document.createElement(\"p\");\r\n  answerElement.innerText = answer;\r\n  messageDiv.appendChild(answerElement);\r\n\r\n  let uniqueSources = {};\r\n  sources.forEach(\r\n    (element) =>\r\n      uniqueSources[`${element.link}-page-${element.page_number}`] = element \r\n  );\r\n  Object.entries(uniqueSources).forEach((source) => {\r\n    var sourceElement = document.createElement(\"a\");\r\n    sourceElement.href = source[1].link;\r\n    if (source[1].page_number) {\r\n      sourceElement.innerText = `${source[1].name} - page ${source[1].page_number}\\n`;\r\n    } else {\r\n      sourceElement.innerText = `${source[1].name}\\n`;\r\n    }\r\n    messageDiv.appendChild(sourceElement);\r\n  });\r\n\r\n  chatLog.appendChild(messageDiv);\r\n  sendButton.disabled = false;\r\n  sendButton.className = \"enabled\";\r\n}\r\n\r\nfunction sendMessage(message) {\r\n  const userMessage = userInputBox.value;\r\n  sendButton.disabled = true;\r\n  sendButton.className = \"disabled\";\r\n  appendQuestion(userMessage);\r\n\r\n  // Send the user message to the server\r\n  fetch(\"/get_response\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ question: userMessage }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      appendAnswer(data.answer, data.sources);\r\n    })\r\n    .catch((error) => console.error(\"Error:\", error));\r\n\r\n  // Clear the input box after sending\r\n  userInputBox.value = \"\";\r\n}\r\n\r\nsendButton.addEventListener(\"click\", sendMessage);\r\nuserInputBox.addEventListener(\"keypress\", function (event) {\r\n  if (event.keyCode === 13) {\r\n    sendMessage();\r\n  }\r\n});\r\n"],"names":[],"version":3,"file":"index.c8d92f0b.js.map","sourceRoot":"../"}